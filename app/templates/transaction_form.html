{% extends "base.html" %}
{% block title %}New Transaction{% endblock %}

{% block content %}
<div class="card wide">
  <div class="row">
    <h1>New Transaction</h1>
    <a class="btn" href="/transactions">Back</a>
  </div>

  {% if error %}
    <div class="alert">{{ error }}</div>
  {% endif %}

  <form method="post" action="/transactions/new" class="form-grid">
    <div>
      <label>Date</label>
      <input type="date" name="date" required />
    </div>

    <div>
      <label>Amount</label>
      <input type="number" step="0.01" name="amount" required value="{{ defaults.amount or '' }}" />
    </div>

    <div class="full">
      <label>Description</label>
      <input name="description" required value="{{ defaults.description or '' }}" />
    </div>

    <div class="full">
      <label>Category</label>
      <select name="category" required>
        {% for c in categories %}
          <option value="{{ c }}" {% if defaults.category == c %}selected{% endif %}>{{ c }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="full">
      <button class="btn primary" type="submit">Save</button>
    </div>
  </form>
</div>
{% endblock %}
